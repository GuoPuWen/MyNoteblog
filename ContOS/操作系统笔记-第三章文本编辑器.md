# 第三章 文本编辑

### 1. vim的工作方式

==启动vi==

格式：vi 文件名

说明：如果文件不存在，则新建一个文件

==vi的三种工作方式==

- 命令模式

  字符不会在屏幕上显示，只会用作命令

- 编辑模式/插入模式

  字符进行文字输入

- ex转义模式/底行模式

文件保存或退出等操作

三种工作状态的转换

![img](C:\Users\VSUS\Desktop\笔记\ContOS\操作系统\34.jpg)

==文本输入==

命令模式→插入模式

| 插入模式insert | i    |      在光标前输入      |
| :------------: | ---- | :--------------------: |
| 插入模式insert | I    |  在光标所在的行首输入  |
| 附加命令append | a    |      在光标后输入      |
| 附加命令append | A    |  在光标所在的行尾输入  |
|  打开命令open  | o    | 在光标下插入新的空白行 |
|  打开命令open  | O    | 在光标上插入新的空白行 |

插入模式→命令模式

​	Esc键

==退出vi==

方法：命令模式→ex转义模式

| 命令键 |           功能            |
| :----: | :-----------------------: |
|  :wq   | 保存并退出，回到shell状态 |
|   :x   |        保存并退出         |
|   ZZ   | 保存并退出，回到shell状态 |
|   :w   |      保存，但不退出       |
|   :q   |      退出，但不保存       |
|  :q!   |   强制退出，不保存修改    |

###  2.命令模式的操作

##### 2.1 移动光标

![image-20201107223438466](C:\Users\VSUS\Desktop\笔记\ContOS\操作系统\35.png)

​     

| 命令键 |      功能      |
| :----: | :------------: |
|  ^ 0   | 光标移动到行首 |
|   $    | 光标移动到行尾 |
|   gg   |  移动到第1行   |
|   G    | 移动到最后一行 |
|   nG   |  移动到第n行   |

##### 2.2 复制和粘贴

| 命令键  |           功能           |
| :-----: | :----------------------: |
|  yy Y   |      复制光标所在行      |
| nyy  nY |   复制从光标开始的n行    |
|   y$    | 复制当前位置到行尾的文本 |
|   y0    | 复制从光标位置之前到当前 |
|    p    |       粘贴在光标后       |
| P(大写) |       粘贴在光标前       |



##### 2.3 删除

| 命令键 | 功能                        |
| ------ | --------------------------- |
| x      | 删除光标位置的一个字符      |
| X      | 删除光标左侧的一个字符      |
| dd     | 删除光标所在行              |
| ndd    | 删除光标所在行开始的下面n行 |



​       

​       