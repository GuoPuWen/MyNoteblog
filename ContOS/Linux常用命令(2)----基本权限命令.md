# 一、基本权限介绍

使用ls -l 命令时的第一列就是文件的权限。

![](Linux\QQ截图20200123195831.png)

权限位如果不计最后面的.那么共有10位

1. **第1位代表文件类型。Linux不像windows下使用扩展名表示文件类型，而是使用权限位的第1位来表示文件类型。可以使用info命令查看。下面列出一些常见文件类型**

   ```
   info ls	# info比man的帮助更加全面
   常见文件类型
   	- 普通文件
   	b 块设备文件
   	d 目录文件
   	l 软链接文件
   ```

2. **第2~4位是所有者的权限(u)**

   - r：read读
   - w：write 写
   - x：excute 执行

3. **第5~7位是所属组(g)的权限，同样具有rwx**

4. **第8~10位是其他人(o)的权限，同样具有rwx**

# 二、基本权限命令

## 1.chmod

- 概述
  - 英文原意：change file mode bits
  - 所在路径：/bin/
  - 执行权限：所有用户
  - 功能描述：修改基本权限

- 使用方法
  - u 表示该文件的拥有者，g 表示与该文件的拥有者属于同一个群体(group)者，o 表示其他以外的人，a 表示这三者皆是。
  - \+ 表示增加权限、- 表示取消权限、= 表示唯一设定权限。
  - r 表示可读取，w 表示可写入，x 表示可执行，X 表示只有当该文件是个子目录或者该文件已经被设定过为可执行。

![](Linux\QQ截图20200125090312.png)

- 数字权限
  - 4：r
  - 2：w
  - 1：x

![](Linux\QQ截图20200125092111.png)

​		

​	常用权限：

​				644：文件基本权限，代表所有者可读，可写，而所属组和其他人只有只读权限

​				755：文件的执行权限和目录的基本权限，代表所有者拥有读、写和执行权限，而所属组和其他人拥有读和执行的权限

​				777：最大权限，要避免使用

## 2.chown

- 概述
  - 英文原意：change file owner and group
  - 所在路径：/bin/chown
  - 执行权限：所有用户
  - 功能描述：修改所有者和所属组

![](C:\Users\VSUS\Desktop\笔记\ContOS\操作系统\36.png)

注意：同时修改所有者和所属组的权限中间用冒号或者.隔开

> 总结：普通用户可以修改所有者是自己的文件，普通用户不能修改文件的所属者（哪怕这个文件是属于这个普通用户的）只有超级用户才可以修改文件的所属者

使用-R选项，进行递归的持续更改，亦即连同目录下的所有文件都会修改



# 三、基本权限的作用

## 1.权限含义的解释

- 权限对文件的作用：

  - 读(r)：对文件有可读权限，可以使用命令：cat more less head 等等

  - 写(w)：对文件有可写权限，可以对文件进行增加数据，删除数据，**但是要删除这个文件本身需要上级目录有写的权限**

    > 这个文件的文件名是保存在上一级目录的Block块里面的，只有对上级目录有写的权限，才可以修改这个目录下的数据，即这个目录下的文件

  - 执行(x)：对文件有执行权限。如果赋予这个文件执行权限，那么这个文件就是执行文件。是否可以正确执行，看是否是正确的语言。

- 权限对目录的作用
  -  读(r)：对目录下有读权限，可以查看目录下有那些子文件和子目录。ls
  - 写(w)：对目录有写权限，代表可以修改目录下的数据，也就是在目录中新建、删除、复制、剪切文件或者子目录。touch、rm、cp、mv
  - 执行(x)：对目录有执行权限，代表可以进入命令。cd
  - 目录的可用权限;
    - 0：无权限
    - 5：对目录读写
    - 7：最高权限

- 例子：

  

## 2.umask默认权限

- 当新建一个文件或者目录时，会自动赋予一个权限

  ![](F:\笔记\ContOS\Linux\捕获.PNG)

  

这个权限就是umask默认权限，使用命令umask可以查看系统的默认权限

```
[root@localhost ~]# umask
0022
```

- umask权限的计算方法

  - 文件和目录的最大权限

    - 文件的最大权限是666，没有执行权限，执行权限需要用户手工赋予

    - 目录的最大权限是777，对于目录，执行权限只是进入目录

      

  - 计算方法：

    - 系统需要使用二进制进行逻辑与和逻辑非运算得到
    - 可以简单的使用两者权限相减得到

- 修改umask
  - 临时生效可以使用  umask 数值
  - 永久生效需要修改配置文件